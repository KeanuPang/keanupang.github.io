<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>建立 DynamoDB 的 Incremental ID 機制 | Living today for tomorrow</title><meta name=keywords content="aws,dynamodb,web-service"><meta name=description content="需要在 DynamoDB 的某個 table 的 Hash Key 是用 auto increment 的方式儲存 id，不過如果只單靠一張 table 有點難完成這樣的機制，所以需要再生另一張 table 用來存放目前的值，讓原本的 table 可以去參考以取得新增後的數值回來儲存。
可以參考這篇：How to make a UUID in DynamoDB?，做法大概就是像這樣：
Each time you want to generate a new id, you would do the following:
Do a GetItem on NextIdTable to read the current value of Counter → curValue
Do a PutItem on NextIdTable to set the value of Counter to curValue + 1. Make this a conditional > PutItem so that it will fail if the value of Counter has changed."><meta name=author content="Keanu Pang"><link rel=canonical href=http://localhost/posts/dynamodb-incremental-id/><link crossorigin=anonymous href=/assets/css/stylesheet.d7fb4cbf980fe688a21621b06a795933c4e6bb2d4070ec940667af1715d84af2.css integrity="sha256-1/tMv5gP5oiiFiGwanlZM8Tmuy1AcOyUBmevFxXYSvI=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=http://localhost/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://localhost/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://localhost/favicon-32x32.png><link rel=apple-touch-icon href=http://localhost/apple-touch-icon.png><link rel=mask-icon href=http://localhost/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="建立 DynamoDB 的 Incremental ID 機制"><meta property="og:description" content="需要在 DynamoDB 的某個 table 的 Hash Key 是用 auto increment 的方式儲存 id，不過如果只單靠一張 table 有點難完成這樣的機制，所以需要再生另一張 table 用來存放目前的值，讓原本的 table 可以去參考以取得新增後的數值回來儲存。
可以參考這篇：How to make a UUID in DynamoDB?，做法大概就是像這樣：
Each time you want to generate a new id, you would do the following:
Do a GetItem on NextIdTable to read the current value of Counter → curValue
Do a PutItem on NextIdTable to set the value of Counter to curValue + 1. Make this a conditional > PutItem so that it will fail if the value of Counter has changed."><meta property="og:type" content="article"><meta property="og:url" content="http://localhost/posts/dynamodb-incremental-id/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2017-12-12T00:00:00+00:00"><meta property="article:modified_time" content="2017-12-12T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="建立 DynamoDB 的 Incremental ID 機制"><meta name=twitter:description content="需要在 DynamoDB 的某個 table 的 Hash Key 是用 auto increment 的方式儲存 id，不過如果只單靠一張 table 有點難完成這樣的機制，所以需要再生另一張 table 用來存放目前的值，讓原本的 table 可以去參考以取得新增後的數值回來儲存。
可以參考這篇：How to make a UUID in DynamoDB?，做法大概就是像這樣：
Each time you want to generate a new id, you would do the following:
Do a GetItem on NextIdTable to read the current value of Counter → curValue
Do a PutItem on NextIdTable to set the value of Counter to curValue + 1. Make this a conditional > PutItem so that it will fail if the value of Counter has changed."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"http://localhost/posts/"},{"@type":"ListItem","position":3,"name":"建立 DynamoDB 的 Incremental ID 機制","item":"http://localhost/posts/dynamodb-incremental-id/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"建立 DynamoDB 的 Incremental ID 機制","name":"建立 DynamoDB 的 Incremental ID 機制","description":"需要在 DynamoDB 的某個 table 的 Hash Key 是用 auto increment 的方式儲存 id，不過如果只單靠一張 table 有點難完成這樣的機制，所以需要再生另一張 table 用來存放目前的值，讓原本的 table 可以去參考以取得新增後的數值回來儲存。\n可以參考這篇：How to make a UUID in DynamoDB?，做法大概就是像這樣：\nEach time you want to generate a new id, you would do the following:\nDo a GetItem on NextIdTable to read the current value of Counter → curValue\nDo a PutItem on NextIdTable to set the value of Counter to curValue + 1. Make this a conditional \u0026gt; PutItem so that it will fail if the value of Counter has changed.","keywords":["aws","dynamodb","web-service"],"articleBody":"需要在 DynamoDB 的某個 table 的 Hash Key 是用 auto increment 的方式儲存 id，不過如果只單靠一張 table 有點難完成這樣的機制，所以需要再生另一張 table 用來存放目前的值，讓原本的 table 可以去參考以取得新增後的數值回來儲存。\n可以參考這篇：How to make a UUID in DynamoDB?，做法大概就是像這樣：\nEach time you want to generate a new id, you would do the following:\nDo a GetItem on NextIdTable to read the current value of Counter → curValue\nDo a PutItem on NextIdTable to set the value of Counter to curValue + 1. Make this a conditional \u003e PutItem so that it will fail if the value of Counter has changed.\nIf that conditional PutItem failed, it means someone else was doing this at the same time as you were. Start over.\nIf it succeeded, then curValue is your new unique ID.\n為了日後的彈性，所以做了一張叫 NextId table，裡面的資料格式長這樣：\n{ \"NextKey\": \"user\", \"NextId\": 0 } 其中 NextKey 是 hash key 這樣未來方便做不同資料類型可以共用 NextId table 來儲存/產生 專屬的數值 NextId。\n然後因為專案是用 LoopBack 的架構，所以 NextId model 會做一個 API 讓其它 model 可以一次完成取得最新的 NextId。做法其實就是叫用 DynamoDB 的 Conditional Update：UpdateItem - Amazon DynamoDB\n如果是用 dynogels 這個套件的話，事情會比較簡單，把 expressions 準備好後再傳進去：\nNextId.update( { NextKey: data_type }, \"SET #nextId=:nextId\", \"#nextId = :current\", { \":nextId\": current + 1, \":current\": data_current }, { \"#nextId\": \"NextId\" }, (err, result) =\u003e { if (err) { winston.error(\"=== Update NextId (%s) failed: %j\", data_type, err); return done(err); } return done(null, result); } ); 然後回到原本的 table，接下來是要把這個 model 在每次新增資料時能夠將新的 nextId 塞入，而 LoopBack 有提供 model 操作時的 各項 hook 串接，方便我們可以在儲存資料先做些前處理。\n只要在這個 model 裡補上 before save 的這個 hook 定義即可，對應的實作則是呼叫剛剛的 NextId model 以取得新的 nextId 值回來，再修補即將要存入的 model instance，實作如下：\nconst DATA_TYPE = \"user\"; module.exports = (UserNew) =\u003e { UserNew.observe(\"before save\", (ctx, next) =\u003e { if (!ctx.instance) { return next(); } let user = ctx.instance; UserNew.app.models.NextId.getNextId(DATA_TYPE, (err, result) =\u003e { if (err) { winston.error(\"=== Calling nextId failed: %j\", err); return next(); } user.Id = result.get(\"NextId\") + \"\"; next(); }); }); }; 最後提一下這個方式的缺點，即是無法保證每次的 nextId 的值是連續性的，因為在每次取得 NextId model 後，後續的儲存主體資料可能是失敗或中斷；雖然如此，但只要能滿足每次的 NextId 值是 unique 這個基本需求我想就足夠應付了。\n","wordCount":"294","inLanguage":"en","datePublished":"2017-12-12T00:00:00Z","dateModified":"2017-12-12T00:00:00Z","author":{"@type":"Person","name":"Keanu Pang"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost/posts/dynamodb-incremental-id/"},"publisher":{"@type":"Organization","name":"Living today for tomorrow","logo":{"@type":"ImageObject","url":"http://localhost/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=http://localhost accesskey=h title="Living today for tomorrow (Alt + H)">Living today for tomorrow</a><div class=logo-switches></div></div><ul id=menu><li><a href=http://localhost/about title=About><span>About</span></a></li><li><a href=http://localhost/posts title=Posts><span>Posts</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>建立 DynamoDB 的 Incremental ID 機制</h1><div class=post-meta><span title='2017-12-12 00:00:00 +0000 UTC'>December 12, 2017</span>&nbsp;·&nbsp;Keanu Pang</div></header><div class=post-content><p>需要在 DynamoDB 的某個 table 的 Hash Key 是用 auto increment 的方式儲存 id，不過如果只單靠一張 table 有點難完成這樣的機制，所以需要再生另一張 table 用來存放目前的值，讓原本的 table 可以去參考以取得新增後的數值回來儲存。</p><p>可以參考這篇：<a href=https://stackoverflow.com/a/24346125>How to make a UUID in DynamoDB?</a>，做法大概就是像這樣：</p><blockquote><p>Each time you want to generate a new id, you would do the following:</p><ul><li><p>Do a GetItem on NextIdTable to read the current value of Counter → curValue</p></li><li><p>Do a PutItem on NextIdTable to set the value of Counter to curValue + 1. Make this a conditional > PutItem so that it will fail if the value of Counter has changed.</p></li><li><p>If that conditional PutItem failed, it means someone else was doing this at the same time as you were. Start over.</p></li><li><p>If it succeeded, then curValue is your new unique ID.</p></li></ul></blockquote><p>為了日後的彈性，所以做了一張叫 <code>NextId</code> table，裡面的資料格式長這樣：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;NextKey&#34;</span><span class=p>:</span> <span class=s2>&#34;user&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;NextId&#34;</span><span class=p>:</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>其中 NextKey 是 hash key 這樣未來方便做不同資料類型可以共用 NextId table 來儲存/產生 專屬的數值 NextId。</p><p>然後因為專案是用 LoopBack 的架構，所以 NextId model 會做一個 API 讓其它 model 可以一次完成取得最新的 NextId。做法其實就是叫用 DynamoDB 的 Conditional Update：<a href=https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_UpdateItem.html>UpdateItem - Amazon DynamoDB</a></p><p>如果是用 <a href=https://github.com/clarkie/dynogels>dynogels</a> 這個套件的話，事情會比較簡單，把 expressions 準備好後再傳進去：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>NextId</span><span class=p>.</span><span class=nx>update</span><span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=nx>NextKey</span><span class=o>:</span> <span class=nx>data_type</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;SET #nextId=:nextId&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;#nextId = :current&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=s2>&#34;:nextId&#34;</span><span class=o>:</span> <span class=nx>current</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&#34;:current&#34;</span><span class=o>:</span> <span class=nx>data_current</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=s2>&#34;#nextId&#34;</span><span class=o>:</span> <span class=s2>&#34;NextId&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nx>err</span><span class=p>,</span> <span class=nx>result</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>err</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>winston</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s2>&#34;=== Update NextId (%s) failed: %j&#34;</span><span class=p>,</span> <span class=nx>data_type</span><span class=p>,</span> <span class=nx>err</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>done</span><span class=p>(</span><span class=nx>err</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>done</span><span class=p>(</span><span class=kc>null</span><span class=p>,</span> <span class=nx>result</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>);</span>
</span></span></code></pre></div><p>然後回到原本的 table，接下來是要把這個 model 在每次新增資料時能夠將新的 nextId 塞入，而 LoopBack 有提供 model 操作時的 <a href=https://loopback.io/doc/en/lb2/Operation-hooks.html>各項 hook 串接</a>，方便我們可以在儲存資料先做些前處理。</p><p>只要在這個 model 裡補上 before save 的這個 hook 定義即可，對應的實作則是呼叫剛剛的 NextId model 以取得新的 nextId 值回來，再修補即將要存入的 model instance，實作如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>DATA_TYPE</span> <span class=o>=</span> <span class=s2>&#34;user&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=p>(</span><span class=nx>UserNew</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>UserNew</span><span class=p>.</span><span class=nx>observe</span><span class=p>(</span><span class=s2>&#34;before save&#34;</span><span class=p>,</span> <span class=p>(</span><span class=nx>ctx</span><span class=p>,</span> <span class=nx>next</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>ctx</span><span class=p>.</span><span class=nx>instance</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>next</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>user</span> <span class=o>=</span> <span class=nx>ctx</span><span class=p>.</span><span class=nx>instance</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>UserNew</span><span class=p>.</span><span class=nx>app</span><span class=p>.</span><span class=nx>models</span><span class=p>.</span><span class=nx>NextId</span><span class=p>.</span><span class=nx>getNextId</span><span class=p>(</span><span class=nx>DATA_TYPE</span><span class=p>,</span> <span class=p>(</span><span class=nx>err</span><span class=p>,</span> <span class=nx>result</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>err</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>winston</span><span class=p>.</span><span class=nx>error</span><span class=p>(</span><span class=s2>&#34;=== Calling nextId failed: %j&#34;</span><span class=p>,</span> <span class=nx>err</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>next</span><span class=p>();</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=nx>user</span><span class=p>.</span><span class=nx>Id</span> <span class=o>=</span> <span class=nx>result</span><span class=p>.</span><span class=nx>get</span><span class=p>(</span><span class=s2>&#34;NextId&#34;</span><span class=p>)</span> <span class=o>+</span> <span class=s2>&#34;&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=nx>next</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></div><p>最後提一下這個方式的缺點，即是無法保證每次的 nextId 的值是連續性的，因為在每次取得 NextId model 後，後續的儲存主體資料可能是失敗或中斷；雖然如此，但只要能滿足每次的 NextId 值是 unique 這個基本需求我想就足夠應付了。</p></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost/tags/aws/>aws</a></li><li><a href=http://localhost/tags/dynamodb/>dynamodb</a></li><li><a href=http://localhost/tags/web-service/>web-service</a></li></ul><nav class=paginav><a class=prev href=http://localhost/posts/hypocritical-person-in-my-life/><span class=title>« Prev</span><br><span>曾幾何時，人生的種種行為必須要虛偽的表現才算是正常了</span></a>
<a class=next href=http://localhost/posts/rxjs-expand-operator/><span class=title>Next »</span><br><span>在 Observable 裡做 recursive 操作</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share 建立 DynamoDB 的 Incremental ID 機制 on twitter" href="https://twitter.com/intent/tweet/?text=%e5%bb%ba%e7%ab%8b%20DynamoDB%20%e7%9a%84%20Incremental%20ID%20%e6%a9%9f%e5%88%b6&url=http%3a%2f%2flocalhost%2fposts%2fdynamodb-incremental-id%2f&hashtags=aws%2cdynamodb%2cweb-service"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 建立 DynamoDB 的 Incremental ID 機制 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2flocalhost%2fposts%2fdynamodb-incremental-id%2f&title=%e5%bb%ba%e7%ab%8b%20DynamoDB%20%e7%9a%84%20Incremental%20ID%20%e6%a9%9f%e5%88%b6&summary=%e5%bb%ba%e7%ab%8b%20DynamoDB%20%e7%9a%84%20Incremental%20ID%20%e6%a9%9f%e5%88%b6&source=http%3a%2f%2flocalhost%2fposts%2fdynamodb-incremental-id%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 建立 DynamoDB 的 Incremental ID 機制 on reddit" href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%2fposts%2fdynamodb-incremental-id%2f&title=%e5%bb%ba%e7%ab%8b%20DynamoDB%20%e7%9a%84%20Incremental%20ID%20%e6%a9%9f%e5%88%b6"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 建立 DynamoDB 的 Incremental ID 機制 on facebook" href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%2fposts%2fdynamodb-incremental-id%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 建立 DynamoDB 的 Incremental ID 機制 on whatsapp" href="https://api.whatsapp.com/send?text=%e5%bb%ba%e7%ab%8b%20DynamoDB%20%e7%9a%84%20Incremental%20ID%20%e6%a9%9f%e5%88%b6%20-%20http%3a%2f%2flocalhost%2fposts%2fdynamodb-incremental-id%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 建立 DynamoDB 的 Incremental ID 機制 on telegram" href="https://telegram.me/share/url?text=%e5%bb%ba%e7%ab%8b%20DynamoDB%20%e7%9a%84%20Incremental%20ID%20%e6%a9%9f%e5%88%b6&url=http%3a%2f%2flocalhost%2fposts%2fdynamodb-incremental-id%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2022 <a href=http://localhost>Living today for tomorrow</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script></body></html>